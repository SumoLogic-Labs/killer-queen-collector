# killer-queen-collector
Data collector for Killer Queen


# Version 1 API Reference
These references and examples are written in JSON Path format, which is what Sumo Logic supports.

## Primitives and Terminology
### Event
The core concept is that everything is an `Event`.  In code, there are a few sub types: `InboundEvent`, `OutboundEvent`, `GameplayEvent`, and `ResetEvent`. 

- `InboundEvent` - Events generated by the KQ cabinet and received by the collector
  - `GameplayEvent` - `InboundEvent` that involves gameplay, instead of general control flow.
- `OutboundEvent` - Events generated by the collector and sent to the KQ cabinet.
- `ResetEvent` - Trivial control event that can be passed to `StateMachine.reset` to avoid creating an arbitrary event.

### Player
TODO

### Maiden
A `Maiden` is the game's codified name for gates.


## Inbound Non-gameplay Events
You will not see these logged.  This is purely for documentation completeness.

### Alive Event
TODO

### Connected Event
TODO


## Inbound Gameplay Events
These events are all generated by the Killer Queen cabinet.  We parse the key-value wire format into a Scala case class, and then write that as JSON

### Game Start Event
Occurs after the 3... 2... 1... countdown.  Signals that players can start interacting with each other.

**Fields:**
- `map` - `map_day`, `map_dusk`, or `map_night`.  Even for a bonus game, it is one of these three values.
- `unknown1` - Unknown boolean field.  May be `attract mode enabled`
- `duration` - Always 0.0
- `unknown2` - Unknown boolean field.  May be `attract mode enabled`


### Game End Event
Occurs right as the game ends.  It always occurs before the `Victory` event.  It mirrors the `Game Start` event.

**Fields:**
- `map` - `map_day`, `map_dusk`, or `map_night`.  Even for a bonus game, it is one of these three values.
- `unknown1` - Unknown boolean field.  May be `attract mode enabled`
- `duration` - Duration of the game in seconds.  Is a `double`, so includes decimal value.
- `unknown2` - Unknown boolean field.  May be `attract mode enabled`

### Victory Event
Occurs after the `Game End` event.  Tells us who won and how they won.

TODO


### Berry Deposit Event
TODO

### Berry Kick In Event
TODO

### Carry Food Event
TODO

### Bless Maiden Event
TODO

### Reserve Maiden Event
TODO

### Unreserve Maiden Event
TODO

### Use Maiden Event
TODO

### Get Off Snail Event
TODO

### Get On Snail Event
TODO

### Snail Eat Event
TODO

### Snail Escape Event
TODO

### Glance Event
TODO

### Player Kill Event
TODO

### Player Names Event
TODO

### Spawn Event
TODO

### User Name Update
TODO




## Enriched Events
TODO








## Final State Events
### Final Game State
TODO

### Final Player State
TODO
